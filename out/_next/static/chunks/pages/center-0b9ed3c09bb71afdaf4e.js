(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[594],{54252:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var r=n(30266),s=n(66311),a=n(809),u=n.n(a),c=n(67294),d=n(35312),i=(n(30381),n(9008),n(85789)),o=n(4914),l=n(38648),p=n(71230),f=n(15746),h=n(39144),x=n(89588),y=n(85545),A=n(52794),S=n(67287),Z=n(31692),v=n.n(Z),w=JSON.parse('{"Mt":[{"inputs":[{"internalType":"address","name":"_comrade","type":"address"}],"name":"updateWelfareAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_pension","type":"address"}],"name":"updatePensionAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getWelfareAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSocialSecurityAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"}]}'),g=n(72724),m=function(e){var t=(0,g.Z)(),r=(0,c.useState)({}),s=r[0],a=r[1],u=(0,c.useState)(!1),d=u[0],i=u[1];return(0,c.useEffect)((function(){e?(v().setProvider(n.g.window&&window.ethereum),a(new(v())(w.Mt,e)),i(!0),console.log("WELFARE COMMAND CENTER ADDRESS",e)):console.log("WELFARE COMMAND CENTER NOT SET")}),[e]),{center:s.methods,web3:t,connected:d}},E=n(85893),j=i.Z.Title;i.Z.Text,o.Z.Item;function C(){var e=(0,d.u)(),t=(0,c.useState)(!1),n=(t[0],t[1],(0,S.Z)(["chain","center","hasCenter"])),a=(0,s.Z)(n,2),i=a[0],o=(a[1],m(i.center)),Z=o.center,v=(o.web3,o.connected),w=(0,c.useState)(!1),g=(w[0],w[1],(0,c.useState)({})),C=g[0],_=g[1],b=(0,c.useState)(0),T=(b[0],b[1],(0,c.useState)(!1)),N=(T[0],T[1]);(0,c.useEffect)((function(){v&&"connected"==e.status&&i.hasCenter&&M()}),[v,e.status,i.hasCenter]);var M=function(){var e=(0,r.Z)(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,Z.getBonusVault().call();case 3:return t=e.sent,e.next=6,Z.getSocialSecurityAddress().call();case 6:return n=e.sent,e.next=9,Z.getWelfareAddress().call();case 9:r=e.sent,_({vaultAddr:t,securityAddr:n,welfareAddr:r}),N(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var t=(0,r.Z)(u().mark((function t(n,r){var s;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(N(!0),!r.startsWith("0x")||42!=r.length){t.next=8;break}return t.next=4,contract[n](r).send({from:e.account,to:i.center});case 4:(s=t.sent).status&&l.Z.success({message:"Update Successful",description:s.transactionHash}),t.next=9;break;case 8:l.Z.error({message:"Update Failed",description:"Address Incorrect"});case 9:N(!1);case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),W=(0,c.useCallback)((function(){return(0,E.jsxs)(p.Z,{gutter:[20,20],style:{marginTop:20},children:[(0,E.jsx)(f.Z,{span:24,children:(0,E.jsxs)(h.Z,{children:[(0,E.jsx)(x.Z,{title:"Vault Address",value:C.vaultAddr}),(0,E.jsx)(y.Z.Search,{placeholder:"Change Vault Address",enterButton:"Update",size:"large",onSearch:function(e){return k("updateBonusVaultAddress",e)}})]})}),(0,E.jsx)(f.Z,{span:24,children:(0,E.jsxs)(h.Z,{children:[(0,E.jsx)(x.Z,{title:"Security Address",value:C.securityAddr}),(0,E.jsx)(y.Z.Search,{placeholder:"Change Security Address",enterButton:"Update",size:"large",onSearch:function(e){return k("updateSSAddress",e)}})]})}),(0,E.jsx)(f.Z,{span:24,children:(0,E.jsxs)(h.Z,{children:[(0,E.jsx)(x.Z,{title:"Welfare Address",value:C.welfareAddr}),(0,E.jsx)(y.Z.Search,{placeholder:"Change Welfare Address",enterButton:"Update",size:"large",onSearch:function(e){return k("updateWelfareAddress",e)}})]})})]})}),[C]);return(0,E.jsx)(A.Z,{children:(0,E.jsxs)("div",{style:{padding:"20px 0px"},children:[(0,E.jsx)(j,{level:2,children:"Command Center"}),i.hasCenter&&W()]})})}},35932:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/center",function(){return n(54252)}])}},function(e){e.O(0,[92,885,351,26,579,407,4,144,114,794,774,888,179],(function(){return t=35932,e(e.s=t);var t}));var t=e.O();_N_E=t}]);