(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[401],{5032:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var s=n(67294),a=n(31692),r=n.n(a),u=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[],"name":"WelfareCommandCenterAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"socialsecuritycontract","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_comandcenteraddress","type":"address"}],"name":"updateCommandCenter","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_socialsecurity","type":"address"}],"name":"updateSSAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_comrade","type":"address"}],"name":"updateWelfareAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"welfarecontract","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"}]'),i=n(72724),d=function(e){var t=(0,i.Z)(),a=(0,s.useState)({}),d=a[0],c=a[1],o=(0,s.useState)(!1),p=o[0],l=o[1];return(0,s.useEffect)((function(){e&&(r().setProvider(n.g.window&&window.ethereum),c(new(r())(u,e)),l(!0))}),[e]),{bonus:d.methods,web3:t,connected:p}}},90088:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var s=n(30266),a=n(66311),r=n(809),u=n.n(r),i=n(67294),d=n(35312),c=(n(30381),n(9008),n(85789)),o=n(4914),p=n(38648),l=n(71230),f=n(15746),y=n(39144),h=n(38162),m=n(89588),w=n(85545),x=n(52794),Z=n(67287),b=n(5032),v=n(85893),S=c.Z.Title;c.Z.Text,o.Z.Item;function A(){var e=(0,d.u)(),t=(0,i.useState)(!1),n=(t[0],t[1],(0,Z.Z)(["chain","bonus","hasBonus"])),r=(0,a.Z)(n,2),c=r[0],o=(r[1],(0,b.Z)(c.bonus)),A=o.bonus,j=(o.web3,o.connected),C=(0,i.useState)(!1),T=(C[0],C[1],(0,i.useState)({})),g=T[0],_=T[1],k=(0,i.useState)(0),M=(k[0],k[1],(0,i.useState)(!1)),B=(M[0],M[1]);(0,i.useEffect)((function(){console.log("STATE",c),j&&c.hasBonus&&O()}),[j,c.hasBonus]);var O=function(){var e=(0,s.Z)(u().mark((function e(){var t,n,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.next=3,A.welfarecontract().call();case 3:return t=e.sent,e.next=6,A.socialsecuritycontract().call();case 6:return n=e.sent,e.next=9,A.WelfareCommandCenterAddress().call();case 9:s=e.sent,_({centerAddr:s,securityAddr:n,welfareAddr:t}),B(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var t=(0,s.Z)(u().mark((function t(n,s){var a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(B(!0),!s.startsWith("0x")||42!=s.length){t.next=8;break}return t.next=4,contract[n](s).send({from:e.account,to:c.center});case 4:(a=t.sent).status&&p.Z.success({message:"Update Successful",description:a.transactionHash}),t.next=9;break;case 8:p.Z.error({message:"Update Failed",description:"Address Incorrect"});case 9:B(!1);case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),U=function(){var t=(0,s.Z)(u().mark((function t(){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,contract.updateBonusVaultAddress().send({from:e.account,to:c.center});case 2:(n=t.sent).status&&p.Z.success({message:"Update Successful",description:n.transactionHash});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),W=(0,i.useCallback)((function(){return(0,v.jsxs)(l.Z,{gutter:[20,20],style:{marginTop:20},children:[(0,v.jsx)(f.Z,{span:12,children:(0,v.jsx)(y.Z,{children:(0,v.jsx)(h.Z,{onClick:U,size:"large",type:"primary",children:"Update Bonus Vault"})})}),(0,v.jsx)(f.Z,{span:24,children:(0,v.jsxs)(y.Z,{children:[(0,v.jsx)(m.Z,{title:"Command Center Address",value:g.centerAddr}),(0,v.jsx)(w.Z.Search,{placeholder:"Change Command Center Address",enterButton:"Update",size:"large",onSearch:function(e){return E("updateCommandCenter",e)}})]})}),(0,v.jsx)(f.Z,{span:24,children:(0,v.jsxs)(y.Z,{children:[(0,v.jsx)(m.Z,{title:"Security Address",value:g.securityAddr}),(0,v.jsx)(w.Z.Search,{placeholder:"Change Security Address",enterButton:"Update",size:"large",onSearch:function(e){return E("updateSSAddress",e)}})]})}),(0,v.jsx)(f.Z,{span:24,children:(0,v.jsxs)(y.Z,{children:[(0,v.jsx)(m.Z,{title:"Welfare Address",value:g.welfareAddr}),(0,v.jsx)(w.Z.Search,{placeholder:"Change Welfare Address",enterButton:"Update",size:"large",onSearch:function(e){return E("updateWelfareAddress",e)}})]})})]})}),[g]);return(0,v.jsx)(x.Z,{children:(0,v.jsxs)("div",{style:{padding:"20px 0px"},children:[(0,v.jsx)(S,{level:2,children:"Bonus Vault"}),c.hasBonus&&W()]})})}},20796:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bonus",function(){return n(90088)}])}},function(e){e.O(0,[92,885,351,26,579,407,4,144,114,794,774,888,179],(function(){return t=20796,e(e.s=t);var t}));var t=e.O();_N_E=t}]);