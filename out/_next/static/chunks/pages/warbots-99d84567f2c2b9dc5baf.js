(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[470],{51471:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return B}});var n=r(30266),a=r(66311),s=r(809),o=r.n(s),c=r(67294),u=r(35312),i=(r(30381),r(9008),r(85789)),l=r(4914),f=r(11382),p=r(39144),d=r(38162),b=r(71230),h=r(15746),x=r(89588),Z=r(19650),v=r(59510),y=r(52794),m=r(40942),j=r(92809),g=r(38648),w=r(27279),S=(r(72724),r(42578)),k=r(67287),O=r(84159),P=r(36259),T=r(27172),W=r(38412),A=r(83366),C=r(85893);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){(0,j.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,s=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw s}}}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}i.Z.Title,i.Z.Text;var I=function(e){e.onComplete,e.address;var t=(0,u.u)(),r=(0,O.Z)(),s=(0,a.Z)(r,2),i=s[0],l=(s[1],(0,k.Z)(["warbotmanufacturer","hasSecurity","vaultCount"])),Z=(0,a.Z)(l,2),v=Z[0],y=(Z[1],(0,S.Z)(v.warbotmanufacturer)),m=y.warbotmanufacturer,j=y.web3,E=y.connected,R=(0,P.Z)(v.nanonft),I=((0,a.Z)(R,1)[0],(0,W.Z)(v.nanomachines)),L=(0,a.Z)(I,1)[0],M=(0,T.Z)(v.warbotstats),B=(0,a.Z)(M,1)[0],D=(0,c.useState)([]),U=D[0],H=D[1],F=(0,c.useState)({}),V=F[0],q=F[1],X=(0,c.useState)(0),z=(X[0],X[1]),G=(0,c.useState)(!1),K=G[0],$=G[1],J=(0,c.useState)(!1),Q=J[0],Y=J[1],ee=(0,A.Z)(v.warbotstatsdata),te=(0,a.Z)(ee,2);te[0],te[1];(0,c.useEffect)((function(){E&&v.hasWarbotmanufacturer&&re(!1)}),[E,v.hasSecurity,v.vaultCount]);var re=function(){var e=(0,n.Z)(o().mark((function e(){var r,n,a,s,c,u,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $(!0),e.next=3,m.getUsersWarbots(t.account).call();case 3:r=e.sent,n=r.length,H(r),a={},s=N(r),e.prev=8,s.s();case 10:if((c=s.n()).done){e.next=29;break}return u=c.value,e.prev=12,e.next=15,m.ownerOf(u).call();case 15:if(e.sent==t.account){e.next=18;break}return e.abrupt("continue",27);case 18:return e.next=20,i(u,t.account);case 20:l=e.sent,a[u]=_({},l),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(12),console.log(u,e.t0);case 27:e.next=10;break;case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(8),s.e(e.t1);case 34:return e.prev=34,s.f(),e.finish(34);case 37:console.dir(a),q(a),z(n),Y(!0),$(!1);case 42:case"end":return e.stop()}}),e,null,[[8,31,34,37],[12,24]])})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=(0,n.Z)(o().mark((function e(r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $(!0),console.log("Activate Warbot # "+r),e.next=4,B.activateWarbot(r).send({from:t.account,to:v.warbotstats});case 4:(n=e.sent).status&&g.Z.success({message:" Warbot Activated",description:n.transactionHash}),$(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=(0,n.Z)(o().mark((function e(r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("REROLL STATS"),$(!0),console.log("Activate Warbot # "+r),e.next=5,B.requestRerollOfStats(r).send({from:t.account,to:v.warbotstats});case 5:(n=e.sent).status&&g.Z.success({message:"Reroll of Level Stats Requested",description:n.transactionHash}),$(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=(0,n.Z)(o().mark((function e(){var r,n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $(!0),r="10000",console.log("APPROVAL AMOUNT",r),e.prev=3,n=j.utils.toWei(r).toString(),console.log("APPROVAL AMOUNT",t),e.next=9,L.approve(v.warbotstats,n).send({from:t.account,to:v.nanomachines});case 9:if(!(a=e.sent).status){e.next=14;break}return g.Z.success({message:"Approve Successful",description:a.transactionHash}),e.next=14,getAllowance();case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(3);case 18:$(!1);case 19:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(){return e.apply(this,arguments)}}();return(0,C.jsx)(f.Z,{spinning:K,children:(0,C.jsxs)(p.Z,{title:"WarBot Inventory",extra:(0,C.jsx)(d.Z,{onClick:re,children:"Refresh"}),children:[(0,C.jsxs)(b.Z,{style:{marginBottom:20},children:[(0,C.jsx)(h.Z,{span:12}),(0,C.jsx)(h.Z,{span:12})]}),Q&&U.map((function(e,t){if(void 0!==V[e]){var r="Warbot Identification Number: "+V[e].WarbotNumber,n="Warbot Level: "+V[e].Level,a=V[e].WarbotType;return(0,C.jsx)("div",{children:(0,C.jsx)(w.Z,{children:(0,C.jsx)(w.Z.Panel,{header:"".concat(r," -").concat(n," -").concat(a),children:(0,C.jsxs)(b.Z,{style:{marginTop:10},gutter:[20,20],children:[(0,C.jsxs)(h.Z,{span:24,children:[(0,C.jsx)(d.Z,{type:"primary",onClick:function(){return se()},style:{background:"black",borderColor:"yellow"},children:"Approve Activation Cost"}),(0,C.jsx)(d.Z,{type:"primary",onClick:function(){return ne(e)},style:{background:"black",borderColor:"yellow"},children:"Activate Warbot"}),(0,C.jsx)(d.Z,{type:"primary",onClick:function(){return ae(e)},style:{background:"black",borderColor:"yellow"},children:"Reroll Level Stats"}),(0,C.jsx)(d.Z,{type:"primary",children:"Upgrade"}),(0,C.jsx)(d.Z,{type:"danger",children:"Send For Parts"}),(0,C.jsx)(d.Z,{type:"primary",style:{background:"green",borderColor:"yellow"},children:"Send To Dealership"}),(0,C.jsx)(d.Z,{type:"danger",children:"Send To Warzone"})]}),Object.keys(V[e]).map((function(t,r){return(0,C.jsx)(h.Z,{span:V[e].WarbotNumber.toString().startsWith("0x")?24:8,children:(0,C.jsx)(x.Z,{title:t.toUpperCase(),value:V[e][t],precision:"POOL WEIGHT"==t?9:0,style:{marginBottom:20}})},"".concat(e,"-").concat(t,"-").concat(r))}))]})})})},"vault-".concat(e))}}))]})})},L=r(49772),M=i.Z.Title;i.Z.Text,l.Z.Item;function B(){var e=(0,u.u)(),t=(0,c.useState)(!1),r=(t[0],t[1],(0,k.Z)(["chain","micromachines","warbotmanufacturer","hasWarbotmanufacturer","warbotmanufacturerInfo"])),s=(0,a.Z)(r,2),i=s[0],l=s[1],j=(0,S.Z)(i.warbotmanufacturer),g=j.warbotmanufacturer,w=(j.web3,j.getField,j.sendTx,j.connected),O=j.getFields,P=(0,c.useState)(!1),T=(P[0],P[1],(0,c.useState)({})),A=(T[0],T[1]),E=(0,c.useState)(!1),_=E[0],N=E[1],R=(0,W.Z)(i.nanomachines),B=((0,a.Z)(R,1)[0],(0,c.useState)(0)),D=B[0],U=B[1],H=(0,c.useState)(0),F=H[0],V=H[1],q=(0,c.useState)(0),X=q[0],z=q[1],G=(0,c.useState)(0),K=G[0],$=G[1],J=(0,c.useState)(0);J[0],J[1];(0,c.useEffect)((function(){i.warbotmanufacturer&&w&&Q()}),[i.hasWarbotmanufacturer,w]);var Q=function(){var e=(0,n.Z)(o().mark((function e(){var t,r,n,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,g.totalSupply().call();case 3:return t=e.sent,e.next=6,g.ManufacturingPlantCount().call();case 6:return r=e.sent,e.next=9,g.globalwarbotproduction().call();case 9:return n=e.sent,e.next=12,g.manufacturingPeriod().call();case 12:return a=e.sent,e.next=15,O();case 15:s=e.sent,U(t),V(r),z(n),$(a),A(s),l.setSecurityInfo(s),N(!1);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=(0,c.useCallback)((function(){return(0,C.jsx)(f.Z,{spinning:_,children:(0,C.jsx)(p.Z,{title:"Warbot Assets",extra:(0,C.jsx)(d.Z,{type:"primary",onClick:Q,children:"Refresh"}),children:(0,C.jsxs)(b.Z,{gutter:[20,20],children:[(0,C.jsx)(h.Z,{span:8,children:(0,C.jsx)(x.Z,{title:"WarBots in Existence:",value:D})}),(0,C.jsx)(h.Z,{span:8,children:(0,C.jsx)(x.Z,{title:"Total Manufacturing Plants:",value:F})}),(0,C.jsx)(h.Z,{span:8,children:(0,C.jsx)(x.Z,{title:"Warbots Manufactured Per Period:",value:X})}),(0,C.jsx)(h.Z,{span:8,children:(0,C.jsx)(x.Z,{title:"Manufacturing Period in Seconds:",value:K})})]})})})}),[_]);return(0,C.jsx)(y.Z,{children:(0,C.jsxs)("div",{style:{padding:"20px 0px"},children:[(0,C.jsx)(M,{level:2,children:"Warbot Management Console"}),i.hasSecurity&&"connected"==e.status&&(0,C.jsxs)("div",{children:[(0,C.jsx)(Z.Z,{style:{marginTop:20}}),(0,C.jsxs)(v.Z,{defaultActiveKey:"dashboard",style:{marginTop:20},children:[(0,C.jsx)(v.Z.TabPane,{tab:"Warbot  Dashboard",children:(0,C.jsxs)(b.Z,{gutter:20,style:{marginTop:"10px",marginBottom:"30px"},children:[(0,C.jsx)(h.Z,{xs:8,children:(0,C.jsx)(m.Z,{})}),(0,C.jsxs)(h.Z,{xs:16,children:[(0,C.jsx)(I,{}),(0,C.jsx)(Z.Z,{style:{marginTop:20}})]})]})},"dashboard"),(0,C.jsx)(v.Z.TabPane,{tab:"Closed Plants",children:(0,C.jsx)(L.Z,{})},"closedVaults"),(0,C.jsx)(v.Z.TabPane,{tab:"WarBot Manufacturing Statistics",children:Y()},"details")]})]})]})})}},48501:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/warbots",function(){return r(51471)}])}},function(e){e.O(0,[92,885,351,26,579,407,4,144,114,794,575,772,777,942,774,888,179],(function(){return t=48501,e(e.s=t);var t}));var t=e.O();_N_E=t}]);