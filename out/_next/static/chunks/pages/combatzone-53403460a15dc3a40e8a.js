(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[624],{69435:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return et}});var a=n(30266),r=n(66311),i=n(809),s=n.n(i),u=n(67294),o=n(35312),p=(n(30381),n(9008),n(85789)),c=n(4914),l=n(11382),y=n(39144),m=n(38162),d=n(71230),f=n(15746),b=n(89588),v=n(19650),w=n(59510),h=n(92809),T=n(38648),x=n(27279),g=n(22867),Z=n(85545),j=n(72724),W=n(42578),S=n(67287),M=n(84159),k=n(31692),_=n.n(k),O=(n(48590),n(94705)),B=(n(62166),n(27172)),C=n(83366),A=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_maxsize","type":"uint256"}],"name":"MaxBotsPerTeamSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"_war","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_warbotOrderPointer","type":"uint256"}],"name":"PointerAdvaced","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"_war","type":"uint256"},{"indexed":false,"internalType":"uint256[]","name":"_order","type":"uint256[]"}],"name":"WarBotOrderSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"_war","type":"uint256"},{"indexed":false,"internalType":"address[]","name":"_warteams","type":"address[]"}],"name":"WarStarted","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_war","type":"uint256"},{"indexed":false,"internalType":"uint8","name":"_option","type":"uint8"},{"indexed":false,"internalType":"uint256","name":"_target","type":"uint256"},{"indexed":false,"internalType":"int8","name":"_x","type":"int8"},{"indexed":false,"internalType":"int8","name":"_y","type":"int8"},{"indexed":false,"internalType":"uint256","name":"_cardnumber","type":"uint256"}],"name":"goTurnEvent","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"warCount","type":"uint256"},{"indexed":true,"internalType":"address","name":"_warinitiator","type":"address"},{"indexed":true,"internalType":"uint256","name":"_warbot","type":"uint256"}],"name":"newBattleInitiated","type":"event"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"BotsInWar","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"BotsInWarStanding","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint8","name":"","type":"uint8"}],"name":"NFTCardCount","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"NFTCards","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"address","name":"","type":"address"}],"name":"TeamBotCount","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"WarRound","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"WarTeamCount","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"address","name":"","type":"address"}],"name":"WarbotDeathCount","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint8","name":"","type":"uint8"}],"name":"Wars","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"__warbotstatsdata","outputs":[{"internalType":"contract WarbotStatsData","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"_tempBots","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"_tempOWNERS","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"activeBattleSlot","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"activeBattles","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"burnAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"closedBattleSlot","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"closedBattles","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxBotsPerTeam","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxWarTeams","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"micromachinemanufacturingplant","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"micromachines","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"nanomachines","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"nanonft","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"newBattleSlot","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"newBattles","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"oracle","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"warCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"warStatus","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"warbotAt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"warbotCardPlay","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"warbotCommand","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"warbotInWarZone","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"warbotMovement","outputs":[{"internalType":"int8","name":"","type":"int8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"warbotOrder","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"warbotOrderPointer","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"warbotOwner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"warbotTarget","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"warbotstats","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"warbotstatsdata","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_warbot","type":"uint256"}],"name":"newBattle","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_war","type":"uint256"}],"name":"checkIfTeamsAreEven","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_war","type":"uint256"}],"name":"getWarTeams","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"},{"internalType":"uint256","name":"_war","type":"uint256"}],"name":"checkIfTeamIsPartOfWar","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_war","type":"uint256"},{"internalType":"address","name":"_address","type":"address"}],"name":"countWarbotsOnTeam","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_warbot","type":"uint256"},{"internalType":"uint256","name":"_war","type":"uint256"}],"name":"joinBattle","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_warbot","type":"uint256"}],"name":"returnWarbot","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_warbot","type":"uint256"},{"internalType":"address","name":"_warbotowner","type":"address"}],"name":"processWarbotReturn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_war","type":"uint256"}],"name":"returnAllWarbots","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_warbot","type":"uint256"}],"name":"removeWarbotFromWar","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getNewBattles","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getActiveBattles","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getClosedBattles","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_war","type":"uint256"}],"name":"getBotsInWar","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_war","type":"uint256"}],"name":"getBotsInWarStanding","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_warbot","type":"uint256"}],"name":"whereIsWarbot","outputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_war","type":"uint256"},{"internalType":"uint8","name":"_status","type":"uint8"}],"name":"changeWarStatus","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_war","type":"uint256"}],"name":"startWar","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_war","type":"uint256"},{"internalType":"uint8","name":"_option","type":"uint8"},{"internalType":"uint256","name":"_target","type":"uint256"},{"internalType":"int8","name":"_x","type":"int8"},{"internalType":"int8","name":"_y","type":"int8"},{"internalType":"uint256","name":"_cardnumber","type":"uint256"}],"name":"goTurn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_war","type":"uint256"}],"name":"advancePointer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_war","type":"uint256"}],"name":"getCurrentTurn","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_war","type":"uint256"},{"internalType":"uint8","name":"_status","type":"uint8"}],"name":"setWarStatus","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_war","type":"uint256"},{"internalType":"uint256","name":"_warbot","type":"uint256"},{"internalType":"uint256","name":"_damage","type":"uint256"},{"internalType":"uint8","name":"_type","type":"uint8"},{"internalType":"uint256","name":"_warbotlocation","type":"uint256"}],"name":"damageWarbot","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_war","type":"uint256"},{"internalType":"uint256","name":"_warbot","type":"uint256"},{"internalType":"uint256","name":"_warbotlocation","type":"uint256"}],"name":"warbotDeathCheck","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_war","type":"uint256"},{"internalType":"address","name":"_loser","type":"address"}],"name":"endWar","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_war","type":"uint256"},{"internalType":"uint256[]","name":"_order","type":"uint256[]"}],"name":"setWarbotOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_war","type":"uint256"}],"name":"getWarbotOrder","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint8","name":"_maxsize","type":"uint8"}],"name":"setMaxBotsPerTeam","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"setWarbotStatsData","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"setMicromachines","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"setNanomachines","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"setNanoNFT","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"setWarbotstats","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"setMicromachinesManufacturingplant","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_level","type":"uint256"}],"name":"levelRequirement","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_operator","type":"address"},{"internalType":"address","name":"_from","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"onERC721Received","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"stateMutability":"view","type":"function"}]}'),I=function(t){var e=(0,j.Z)(),a=(0,u.useState)({}),r=a[0],i=a[1],s=(0,u.useState)(!1),o=s[0],p=s[1];return(0,u.useEffect)((function(){console.log("war contract address: "+t),t?(_().setProvider(n.g.window&&window.ethereum),i(new(_())(A.Mt,t)),p(!0),console.log("WarContract ",t)):console.log("WarContract  NOT SET")}),[t]),[r.methods,e,o]};function P(t){switch(t){case"0":return console.log("Warbot Type Uninitiated"),"Warbot Type Uninitiated";case"1":return console.log("Tractor"),"Tractor";case"2":return console.log("Walker"),"Walker";case"3":return console.log("Aerial Drone"),"Aerial Drone"}}var N=function(){(0,j.Z)();var t=(0,u.useState)({}),e=(t[0],t[1],(0,S.Z)(["warbotmanufacturer","hasWarbotmanufacturer","warbotstats","hasWarbotstats"])),i=(0,r.Z)(e,2),o=i[0],p=(i[1],(0,B.Z)(o.warbotstats)),c=(0,r.Z)(p,2),l=(c[0],c[1],(0,C.Z)(o.warbotstatsdata)),y=(0,r.Z)(l,2),m=y[0],d=(y[1],(0,W.Z)(o.warbotmanufacturer)),f=(d.warbotmanufacturer,d.connected,I(o.warcontract)),b=(0,r.Z)(f,2),v=b[0];b[1];(0,u.useEffect)((function(){_().setProvider(n.g.window&&window.ethereum)}),[]);var w=function(){var t=(0,a.Z)(s().mark((function t(e,n,a){var r,i,u,p,c,l,y=arguments;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(i=new(_())(O.Mt,o.security),u=y.length,p=new Array(u>3?u-3:0),c=3;c<u;c++)p[c-3]=y[c];return t.next=4,(r=i.methods)[e].apply(r,p).send({from:a,to:n});case 4:(l=t.sent).status&&T.Z.success({message:"Transaction Successful",description:l.transactionHash});case 6:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}();return[function(){var t=(0,a.Z)(s().mark((function t(e,n){var a,r,i,u;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("MAINBOT",n),t.next=3,m.getWarBotLevel(n).call();case 3:return a=t.sent,t.next=6,v.warbotOwner(n).call();case 6:return t.sent,t.next=9,v.getBotsInWar(e).call();case 9:return r=t.sent,t.next=12,m.WarbotType(n).call();case 12:return i=t.sent,t.next=15,m.WarBotProfiles(n).call();case 15:return u=t.sent,P(i),t.abrupt("return",{WarNumber:e,Warbot:n,Level:a,"Hull Hitpoints":u.hitpoints,Speed:u.speed,Attack:u.attack,Defense:u.defense,Movement:u.movement,BotsInWar:r});case 18:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),function(){var t=(0,a.Z)(s().mark((function t(e,n){var a,r,i,u,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("MAINBOT",n),t.next=3,m.getWarBotLevel(n).call();case 3:return a=t.sent,t.next=6,v.warbotOwner(n).call();case 6:return t.sent,t.next=9,v.getBotsInWar(e).call();case 9:return r=t.sent,t.next=12,v.getCurrentTurn(e).call();case 12:return i=t.sent,t.next=15,m.WarbotType(n).call();case 15:return u=t.sent,t.next=18,m.WarBotProfiles(n).call();case 18:return o=t.sent,P(u),t.abrupt("return",{WarNumber:e,Warbot:n,Level:a,"Hull Hitpoints":o.hitpoints,Speed:o.speed,Attack:o.attack,Defense:o.defense,Movement:o.movement,BotsInWar:r,WarbotsTurn:i});case 21:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),w]},E=n(36259),R=n(38412),F=n(85893);function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(Object(n),!0).forEach((function(e){(0,h.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function H(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return U(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw i}}}}function U(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}p.Z.Title,p.Z.Text;var q=function(t){t.onComplete,t.address;var e=(0,o.u)(),n=(0,M.Z)(),i=(0,r.Z)(n,2),p=(i[0],i[1],(0,S.Z)(["warbotmanufacturer","hasSecurity","vaultCount"])),c=(0,r.Z)(p,2),v=c[0],w=(c[1],(0,W.Z)(v.warbotmanufacturer)),h=(w.warbotmanufacturer,w.web3,w.connected),j=(0,E.Z)(v.nanonft),k=((0,r.Z)(j,1)[0],(0,R.Z)(v.nanomachines)),_=((0,r.Z)(k,1)[0],(0,B.Z)(v.warbotstats)),O=((0,r.Z)(_,1)[0],(0,u.useState)([])),A=O[0],P=O[1],D=(0,u.useState)({}),U=D[0],q=D[1],z=(0,u.useState)(0),J=(z[0],z[1],(0,u.useState)(0)),G=J[0],V=J[1],X=(0,u.useState)(!1),Y=X[0],$=X[1],K=(0,u.useState)(!1),Q=K[0],tt=K[1],et=(0,C.Z)(v.warbotstatsdata),nt=(0,r.Z)(et,2),at=nt[0],rt=(nt[1],I(v.warcontract)),it=(0,r.Z)(rt,2),st=it[0],ut=(it[1],N()),ot=(0,r.Z)(ut,2),pt=(ot[0],ot[1]);(0,u.useEffect)((function(){h&&v.hasWarbotmanufacturer&&ct(!1)}),[h,v.hasSecurity,v.vaultCount]);var ct=function(){var t=(0,a.Z)(s().mark((function t(){var e,n,a,r,i,u,o,p;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("fuck you"),$(!0),t.next=4,st.warCount().call();case 4:return e=t.sent,console.log(e),t.next=8,st.getActiveBattles().call();case 8:n=t.sent,console.dir(n),P(n),a={},r=H(n),t.prev=13,r.s();case 15:if((i=r.n()).done){t.next=35;break}if(0!=(u=i.value)){t.next=19;break}return t.abrupt("continue",33);case 19:return t.prev=19,t.next=22,st.BotsInWar(u,0).call();case 22:return o=t.sent,t.next=25,pt(u,o);case 25:p=t.sent,console.log(" test "+o),a[u]=L({},p),t.next=33;break;case 30:t.prev=30,t.t0=t.catch(19),console.log(u,t.t0);case 33:t.next=15;break;case 35:t.next=40;break;case 37:t.prev=37,t.t1=t.catch(13),r.e(t.t1);case 40:return t.prev=40,r.f(),t.finish(40);case 43:console.dir(a),q(a),tt(!0),$(!1);case 47:case"end":return t.stop()}}),t,null,[[13,37,40,43],[19,30]])})));return function(){return t.apply(this,arguments)}}(),lt=function(){var t=(0,a.Z)(s().mark((function t(n){var a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return $(!0),console.log("Fire Gun # "+n,G),t.prev=2,t.next=5,st.joinBattle(G,n).send({from:e.account,to:v.warcontract});case 5:(a=t.sent).status&&T.Z.success({message:" Battle Joined ",description:a.transactionHash}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:$(!1);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),yt=function(){var t=(0,a.Z)(s().mark((function t(n){var a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return $(!0),console.log("Move # "+n,G),t.prev=2,t.next=5,st.startWar(n).send({from:e.account,to:v.warcontract});case 5:(a=t.sent).status&&T.Z.success({message:" Battle Started ",description:a.transactionHash}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:$(!1);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),mt=function(){var t=(0,a.Z)(s().mark((function t(n){var a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return $(!0),console.log("NanoNFT # "+n,G),t.prev=2,t.next=5,st.startWar(n).send({from:e.account,to:v.warcontract});case 5:(a=t.sent).status&&T.Z.success({message:" Battle Started ",description:a.transactionHash}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:$(!1);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),dt=function(){var t=(0,a.Z)(s().mark((function t(e){var n,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("warbot chosen "+e.target.value),void 0==e.target.value){t.next=15;break}return t.prev=2,t.next=5,at.WarbotLevel(e.target.value).call();case 5:n=t.sent,a=(parseInt(n)+1)*(parseInt(n)+1),V(parseInt(e.target.value)),setWarbot1message(" Warbot 1 is currently in level "+n),console.log("warbot level up required : "+a),t.next=15;break;case 13:t.prev=13,t.t0=t.catch(2);case 15:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e){return t.apply(this,arguments)}}();return(0,F.jsx)(l.Z,{spinning:Y,children:(0,F.jsxs)(y.Z,{title:"Battle Zone",extra:(0,F.jsx)(m.Z,{onClick:ct,children:"Refresh"}),children:[(0,F.jsxs)(d.Z,{style:{marginBottom:20},children:[(0,F.jsx)(f.Z,{span:12}),(0,F.jsx)(f.Z,{span:12})]}),Q&&A.map((function(t,e){if(void 0!==U[t]){console.log("key ",e);var n="War Number: "+U[t].WarNumber,a="Warbots in Battle "+U[t].BotsInWar,r="Warbots Turn: "+U[t].WarbotsTurn;return(0,F.jsx)("div",{children:(0,F.jsx)(x.Z,{children:(0,F.jsx)(x.Z.Panel,{header:"".concat(n," - ").concat(a," - ").concat(r),children:(0,F.jsxs)(d.Z,{style:{marginTop:10},gutter:[20,20],children:[(0,F.jsxs)(f.Z,{span:24,children:[(0,F.jsx)(g.Z.Item,{name:"aimat",label:"Aim At Warbot Number",rules:[{required:!0,message:"Warbot Target"}],children:(0,F.jsx)(Z.Z,{type:"number",placeholder:"e.g 10000",value:G,onChange:dt})}),(0,F.jsx)(m.Z,{type:"primary",onClick:function(){return lt()},style:{background:"black",borderColor:"yellow"},children:"Fire Guns"}),(0,F.jsx)(g.Z.Item,{name:"aimat",label:"Movement in X",rules:[{required:!0,message:"Move in X direction"}],children:(0,F.jsx)(Z.Z,{type:"number",placeholder:"x",value:G,onChange:dt})}),(0,F.jsx)(g.Z.Item,{name:"aimat",label:"Movement in Y",rules:[{required:!0,message:"Move in Y direction"}],children:(0,F.jsx)(Z.Z,{type:"number",placeholder:"Y",value:G,onChange:dt})}),(0,F.jsx)(m.Z,{type:"primary",onClick:function(){return yt(t)},style:{background:"yellow",borderColor:"yellow"},children:"Move"}),(0,F.jsx)(g.Z.Item,{name:"warnumber",label:"NFT Card Number",rules:[{required:!0,message:"Enter NFT Card Number"}],children:(0,F.jsx)(Z.Z,{type:"number",placeholder:"e.g 10000",value:G,onChange:dt})}),(0,F.jsx)(m.Z,{type:"primary",onClick:function(){return mt(t)},style:{background:"red",borderColor:"yellow"},children:"Use NanoNFT"})]}),Object.keys(U[t]).map((function(e,n){return(0,F.jsx)(f.Z,{span:U[t].WarNumber.toString().startsWith("0x")?24:8,children:(0,F.jsx)(b.Z,{title:e.toUpperCase(),value:U[t][e],precision:"POOL WEIGHT"==e?9:0,style:{marginBottom:20}})},"".concat(t,"-").concat(e,"-").concat(n))}))]})})})},"vault-".concat(t))}}))]})})},z=n(52794);p.Z.Title;var J=p.Z.Text,G=function(t){t.onComplete,t.address;var e=(0,o.u)(),n=(0,S.Z)(["warbotmanufacturer","hasWarbotmanufacturer","nanomachines","hasNanomachines"]),i=(0,r.Z)(n,2),p=i[0],c=(i[1],(0,W.Z)(p.warbotmanufacturer)),d=c.warbotmanufacturer,f=c.web3,w=c.connected,h=(0,R.Z)(p.nanomachines),x=(0,r.Z)(h,1)[0],j=(0,B.Z)(p.warbotstats),M=((0,r.Z)(j,1)[0],I(p.warcontract)),k=(0,r.Z)(M,1)[0],_=(0,u.useState)(0),O=(_[0],_[1]),A=(0,u.useState)(0),P=A[0],N=A[1],E=(0,u.useState)(0),D=(E[0],E[1],(0,u.useState)(!1)),L=(D[0],D[1],(0,u.useState)({amount:0,warbot1:0,warbot2:0})),H=L[0],U=L[1],q=(0,C.Z)(p.warbotstatsdata),z=(0,r.Z)(q,2),G=z[0],V=(z[1],(0,u.useState)(!1)),X=V[0],Y=V[1],$=(0,u.useState)(0),K=$[0],Q=$[1],tt=(0,u.useState)(0),et=tt[0],nt=(tt[1],(0,u.useState)(0)),at=nt[0],rt=nt[1],it=(0,u.useState)(0),st=it[0],ut=(it[1],(0,u.useState)(0)),ot=ut[0],pt=ut[1],ct=(0,u.useState)(0),lt=ct[0],yt=ct[1],mt=(0,u.useState)(0),dt=(mt[0],mt[1]),ft=(0,u.useState)(0),bt=(ft[0],ft[1],(0,u.useState)(0)),vt=bt[0],wt=bt[1],ht=(0,u.useState)(0),Tt=ht[0],xt=ht[1];(0,u.useEffect)((function(){w&&p.hasWarbotmanufacturer&&jt()}),[H]),(0,u.useEffect)((function(){w&&x&&p.hasNanomachines&&(gt(),Zt())}),[w,x,p.hasMicromachines]);var gt=function(){var t=(0,a.Z)(s().mark((function t(){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.balanceOf(e.account).call();case 2:n=t.sent,O(f.utils.fromWei(n));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Zt=function(){var t=(0,a.Z)(s().mark((function t(){var n,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.allowance(e.account,p.warbotstats).call();case 2:return n=t.sent,t.next=5,d.isApprovedForAll(e.account,p.warbotstats).call();case 5:a=t.sent,N(f.utils.fromWei(n)),wt("primary"),xt("danger"),yt(a),console.log("NANO APPROVAL FOR WARBOTSTAT IS "+n);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),jt=function(){var t=(0,a.Z)(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=f.utils.toWei((H.amount||0).toString()).toString(),console.log("VALUE",e);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Wt=function(){var t=(0,a.Z)(s().mark((function t(){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Y(!0),console.log("WARBOT NFTS TRANSFER APPROVAL"),t.prev=2,t.next=5,d.setApprovalForAll(p.warcontract,"true").send({from:e.account,to:p.warbotmanufacturer});case 5:if(!(n=t.sent).status){t.next=10;break}return T.Z.success({message:"NFT Approval Successful",description:n.transactionHash}),t.next=10,Zt();case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),T.Z.error({message:"Approval Failed",description:t.t0.toString()});case 15:Y(!1);case 16:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(){return t.apply(this,arguments)}}(),St=function(){var t=(0,a.Z)(s().mark((function t(){var n,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("New battle "+K),Y(!0),t.prev=2,n=f.utils.toWei(ot.toString()).toString(),console.log("UPGRADE WARBOTS ",n,K,et),t.next=7,k.newBattle(K).send({from:e.account,to:p.warcontract});case 7:a=t.sent,parseInt(at)+1,a.status&&(U({amount:0,months:0}),T.Z.success({message:"Warbot # "+K+" initiates a new battle successfully",description:a.transactionHash})),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),T.Z.error({message:"Warbot Upgrading Failed",description:t.t0.toString()});case 15:Y(!1);case 16:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(){return t.apply(this,arguments)}}(),Mt=function(){var t=(0,a.Z)(s().mark((function t(){var n,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("handle Deposit"),Y(!0),t.prev=2,n=f.utils.toWei(ot.toString()).toString(),console.log("UPGRADE WARBOTS ",n,K,et),t.next=7,k.joinBattle(K,et).send({from:e.account,to:p.warcontract});case 7:a=t.sent,parseInt(at)+1,a.status&&(U({amount:0,months:0}),T.Z.success({message:"Warbot # "+K+"joined  battle successfully",description:a.transactionHash})),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),T.Z.error({message:"Warbot Upgrading Failed",description:t.t0.toString()});case 15:Y(!1);case 16:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(){return t.apply(this,arguments)}}(),kt=function(){var t=(0,a.Z)(s().mark((function t(e){var n,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0==e.target.value){t.next=16;break}return t.prev=1,t.next=4,G.WarbotLevel(e.target.value).call();case 4:n=t.sent,a=(parseInt(n)+1)*(parseInt(n)+1),pt(a),Q(parseInt(e.target.value)),rt(n),dt(" Warbot 1 is currently in level "+n),console.log("warbot level up required : "+a),t.next=16;break;case 14:t.prev=14,t.t0=t.catch(1);case 16:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}();return(0,F.jsx)(l.Z,{spinning:X,children:(0,F.jsx)(y.Z,{title:"Warzone",children:(0,F.jsx)(y.Z,{title:"Warbot Combat",children:(0,F.jsxs)(g.Z,{size:"large",layout:"vertical",children:[(0,F.jsx)(b.Z,{title:"AAA Battery Power",value:"3"}),(0,F.jsx)(b.Z,{title:"Combat Operations Approval",value:lt}),(0,F.jsx)(v.Z,{children:(0,F.jsx)(m.Z,{size:"large",type:"primary",onClick:Wt,children:"Approve Combat Operations"})}),(0,F.jsx)(J,{level:5,strong:!0,children:" Join Battle "}),(0,F.jsx)(g.Z.Item,{name:"warbot1",label:"Battle Number",rules:[{required:!0,message:"Enter Battle Number"}],children:(0,F.jsx)(Z.Z,{type:"number",placeholder:"e.g 10000",value:H.warbot1,onChange:kt})}),(0,F.jsx)(g.Z.Item,{name:"warnumber",label:"Warbot Number",rules:[{required:!0,message:"Enter Warbot Number"}],children:(0,F.jsx)(Z.Z,{type:"number",placeholder:"e.g 10000",value:H.warbot2,onChange:kt})}),(0,F.jsxs)(v.Z,{children:[(0,F.jsx)(m.Z,{size:"large",type:1==lt&&P>=ot?vt:Tt,onClick:lt&&P>=ot==1&&parseInt(at)==parseInt(st)&&parseInt(K)!=parseInt(et)?Mt:function(t){console.log("not enough:"+at,st)},children:"Join Battle"}),(0,F.jsx)(m.Z,{size:"large",type:"danger",onClick:St,children:"Start New Battle"})]}),(0,F.jsx)(y.Z,{style:{marginTop:20,textAlign:"center"},children:(0,F.jsx)(J,{level:5,strong:!0,children:" Enter Battle with Warbot # "})})]})})})})};function V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function X(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(Object(n),!0).forEach((function(e){(0,h.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Y(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return $(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw i}}}}function $(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}p.Z.Title,p.Z.Text;var K=function(t){t.onComplete,t.address;var e=(0,o.u)(),n=(0,M.Z)(),i=(0,r.Z)(n,2),p=(i[0],i[1],(0,S.Z)(["warbotmanufacturer","hasSecurity","vaultCount"])),c=(0,r.Z)(p,2),v=c[0],w=(c[1],(0,W.Z)(v.warbotmanufacturer)),h=(w.warbotmanufacturer,w.web3),j=w.connected,k=(0,E.Z)(v.nanonft),_=((0,r.Z)(k,1)[0],(0,R.Z)(v.nanomachines)),O=(0,r.Z)(_,1)[0],A=(0,B.Z)(v.warbotstats),P=(0,r.Z)(A,1)[0],D=(0,u.useState)([]),L=D[0],H=D[1],U=(0,u.useState)({}),q=U[0],z=U[1],J=(0,u.useState)(0),G=(J[0],J[1],(0,u.useState)(0)),V=G[0],$=G[1],K=(0,u.useState)(!1),Q=K[0],tt=K[1],et=(0,u.useState)(!1),nt=et[0],at=et[1],rt=(0,C.Z)(v.warbotstatsdata),it=(0,r.Z)(rt,2),st=it[0],ut=(it[1],I(v.warcontract)),ot=(0,r.Z)(ut,2),pt=ot[0],ct=(ot[1],N()),lt=(0,r.Z)(ct,1)[0];(0,u.useEffect)((function(){j&&v.hasWarbotmanufacturer&&yt(!1)}),[j,v.hasSecurity,v.vaultCount]);var yt=function(){var t=(0,a.Z)(s().mark((function t(){var e,n,a,r,i,u,o,p;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return tt(!0),t.next=3,pt.warCount().call();case 3:return e=t.sent,console.log(e),t.next=7,pt.getNewBattles().call();case 7:n=t.sent,console.dir(n),H(n),a={},r=Y(n),t.prev=12,r.s();case 14:if((i=r.n()).done){t.next=34;break}if(0!=(u=i.value)){t.next=18;break}return t.abrupt("continue",32);case 18:return t.prev=18,t.next=21,pt.BotsInWar(u,0).call();case 21:return o=t.sent,t.next=24,lt(u,o);case 24:p=t.sent,console.log(" test "+o),a[u]=X({},p),t.next=32;break;case 29:t.prev=29,t.t0=t.catch(18),console.log(u,t.t0);case 32:t.next=14;break;case 34:t.next=39;break;case 36:t.prev=36,t.t1=t.catch(12),r.e(t.t1);case 39:return t.prev=39,r.f(),t.finish(39);case 42:console.dir(a),z(a),at(!0),tt(!1);case 46:case"end":return t.stop()}}),t,null,[[12,36,39,42],[18,29]])})));return function(){return t.apply(this,arguments)}}(),mt=function(){var t=(0,a.Z)(s().mark((function t(n){var a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return tt(!0),console.log("Join Battle # "+n,V),t.prev=2,t.next=5,pt.joinBattle(V,n).send({from:e.account,to:v.warcontract});case 5:(a=t.sent).status&&T.Z.success({message:" Battle Joined ",description:a.transactionHash}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:tt(!1);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),dt=function(){var t=(0,a.Z)(s().mark((function t(n){var a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return tt(!0),console.log("Join Battle # "+n,V),t.prev=2,t.next=5,pt.startWar(n).send({from:e.account,to:v.warcontract});case 5:(a=t.sent).status&&T.Z.success({message:" Battle Started ",description:a.transactionHash}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:tt(!1);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),ft=function(){var t=(0,a.Z)(s().mark((function t(n){var a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("REROLL STATS"),tt(!0),console.log("Activate Warbot # "+n),t.next=5,P.requestRerollOfStats(n).send({from:e.account,to:v.warbotstats});case 5:(a=t.sent).status&&T.Z.success({message:"Reroll of Level Stats Requested",description:a.transactionHash}),tt(!1);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),bt=function(){var t=(0,a.Z)(s().mark((function t(){var n,a,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return tt(!0),n="10000",console.log("APPROVAL AMOUNT",n),t.prev=3,a=h.utils.toWei(n).toString(),console.log("APPROVAL AMOUNT",e),t.next=9,O.approve(v.warbotstats,a).send({from:e.account,to:v.nanomachines});case 9:if(!(r=t.sent).status){t.next=14;break}return T.Z.success({message:"Approve Successful",description:r.transactionHash}),t.next=14,getAllowance();case 14:t.next=18;break;case 16:t.prev=16,t.t0=t.catch(3);case 18:tt(!1);case 19:case"end":return t.stop()}}),t,null,[[3,16]])})));return function(){return t.apply(this,arguments)}}(),vt=function(){var t=(0,a.Z)(s().mark((function t(e){var n,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("warbot chosen "+e.target.value),void 0==e.target.value){t.next=15;break}return t.prev=2,t.next=5,st.WarbotLevel(e.target.value).call();case 5:n=t.sent,a=(parseInt(n)+1)*(parseInt(n)+1),$(parseInt(e.target.value)),setWarbot1message(" Warbot 1 is currently in level "+n),console.log("warbot level up required : "+a),t.next=15;break;case 13:t.prev=13,t.t0=t.catch(2);case 15:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e){return t.apply(this,arguments)}}();return(0,F.jsx)(l.Z,{spinning:Q,children:(0,F.jsxs)(y.Z,{title:"Available Battles",extra:(0,F.jsx)(m.Z,{onClick:yt,children:"Refresh"}),children:[(0,F.jsxs)(d.Z,{style:{marginBottom:20},children:[(0,F.jsx)(f.Z,{span:12}),(0,F.jsx)(f.Z,{span:12})]}),nt&&L.map((function(t,e){if(console.log("id num is "+t),void 0!==q[t]){var n="War Number: "+q[t].WarNumber,a="Warbot Level: "+q[t].Level,r=q[t].WarbotType;return(0,F.jsx)("div",{children:(0,F.jsx)(x.Z,{children:(0,F.jsx)(x.Z.Panel,{header:"".concat(n," -").concat(a," -").concat(r),children:(0,F.jsxs)(d.Z,{style:{marginTop:10},gutter:[20,20],children:[(0,F.jsxs)(f.Z,{span:24,children:[(0,F.jsx)(m.Z,{type:"primary",onClick:function(){return bt()},style:{background:"black",borderColor:"yellow"},children:"Approve Joining"}),(0,F.jsx)(m.Z,{type:"primary",onClick:function(){return mt(t)},style:{background:"black",borderColor:"yellow"},children:"Join Battle"}),(0,F.jsx)(m.Z,{type:"primary",onClick:function(){return dt(t)},style:{background:"black",borderColor:"yellow"},children:"Start Battle"}),(0,F.jsx)(g.Z.Item,{name:"warnumber",label:"Warbot Number",rules:[{required:!0,message:"Enter Warbot Number"}],children:(0,F.jsx)(Z.Z,{type:"number",placeholder:"e.g 10000",value:V,onChange:vt})}),(0,F.jsx)(m.Z,{type:"primary",onClick:function(){return ft(t)},style:{background:"black",borderColor:"yellow"},children:"Purchase Fuel"})]}),Object.keys(q[t]).map((function(e,n){return(0,F.jsx)(f.Z,{span:q[t].WarNumber.toString().startsWith("0x")?24:8,children:(0,F.jsx)(b.Z,{title:e.toUpperCase(),value:q[t][e],precision:"POOL WEIGHT"==e?9:0,style:{marginBottom:20}})},"".concat(t,"-").concat(e,"-").concat(n))}))]})})})},"vault-".concat(t))}}))]})})},Q=n(49772),tt=p.Z.Title;p.Z.Text,c.Z.Item;function et(){var t=(0,o.u)(),e=(0,u.useState)(!1),n=(e[0],e[1],(0,S.Z)(["chain","micromachines","warbotmanufacturer","hasWarbotmanufacturer","warbotmanufacturerInfo"])),i=(0,r.Z)(n,2),p=i[0],c=i[1],h=(0,W.Z)(p.warbotmanufacturer),T=h.warbotmanufacturer,x=(h.web3,h.getField,h.sendTx,h.connected),g=h.getFields,Z=(0,u.useState)(!1),j=(Z[0],Z[1],(0,u.useState)({})),M=(j[0],j[1]),k=(0,u.useState)(!1),_=k[0],O=k[1],B=(0,R.Z)(p.nanomachines),C=((0,r.Z)(B,1)[0],(0,u.useState)(0)),A=C[0],I=C[1],P=(0,u.useState)(0),N=P[0],E=P[1],D=(0,u.useState)(0),L=D[0],H=D[1],U=(0,u.useState)(0),J=U[0],V=U[1],X=(0,u.useState)(0);X[0],X[1];(0,u.useEffect)((function(){p.warbotmanufacturer&&x&&Y()}),[p.hasWarbotmanufacturer,x]);var Y=function(){var t=(0,a.Z)(s().mark((function t(){var e,n,a,r,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return O(!0),t.next=3,T.totalSupply().call();case 3:return e=t.sent,t.next=6,T.ManufacturingPlantCount().call();case 6:return n=t.sent,t.next=9,T.globalwarbotproduction().call();case 9:return a=t.sent,t.next=12,T.manufacturingPeriod().call();case 12:return r=t.sent,t.next=15,g();case 15:i=t.sent,I(e),E(n),H(a),V(r),M(i),c.setSecurityInfo(i),O(!1);case 23:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),$=(0,u.useCallback)((function(){return(0,F.jsx)(l.Z,{spinning:_,children:(0,F.jsx)(y.Z,{title:"Warbot Battle Statistics",extra:(0,F.jsx)(m.Z,{type:"primary",onClick:Y,children:"Refresh"}),children:(0,F.jsxs)(d.Z,{gutter:[20,20],children:[(0,F.jsx)(f.Z,{span:8,children:(0,F.jsx)(b.Z,{title:"WarBots in Battle:",value:A})}),(0,F.jsx)(f.Z,{span:8,children:(0,F.jsx)(b.Z,{title:"Total Warbot Battles:",value:N})}),(0,F.jsx)(f.Z,{span:8,children:(0,F.jsx)(b.Z,{title:"Total Rounds of Combat",value:L})}),(0,F.jsx)(f.Z,{span:8,children:(0,F.jsx)(b.Z,{title:"Total Warbot Victories:",value:J})})]})})})}),[_]);return(0,F.jsx)(z.Z,{children:(0,F.jsxs)("div",{style:{padding:"20px 0px"},children:[(0,F.jsx)(tt,{level:2,children:"Warbot Combat Zone"}),p.hasSecurity&&"connected"==t.status&&(0,F.jsxs)("div",{children:[(0,F.jsx)(v.Z,{style:{marginTop:20}}),(0,F.jsxs)(w.Z,{defaultActiveKey:"dashboard",style:{marginTop:20},children:[(0,F.jsx)(w.Z.TabPane,{tab:"Warzone  Dashboard",children:(0,F.jsxs)(d.Z,{gutter:20,style:{marginTop:"10px",marginBottom:"30px"},children:[(0,F.jsx)(f.Z,{xs:8,children:(0,F.jsx)(G,{})}),(0,F.jsxs)(f.Z,{xs:16,children:[(0,F.jsx)(K,{}),(0,F.jsx)(v.Z,{style:{marginTop:20}})]})]})},"dashboard"),(0,F.jsx)(w.Z.TabPane,{tab:"Battle Zone",children:(0,F.jsx)(q,{})},"battleZone"),(0,F.jsx)(w.Z.TabPane,{tab:"Battles Finalized",children:(0,F.jsx)(Q.Z,{})},"battleFinalized"),(0,F.jsx)(w.Z.TabPane,{tab:"WarBot Combat Statistics",children:$()},"details")]})]})]})})}},22513:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/combatzone",function(){return n(69435)}])}},function(t){t.O(0,[92,885,351,26,579,407,4,144,114,794,575,772,777,774,888,179],(function(){return e=22513,t(t.s=e);var e}));var e=t.O();_N_E=e}]);