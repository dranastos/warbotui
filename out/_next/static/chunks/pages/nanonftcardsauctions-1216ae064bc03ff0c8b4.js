(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[563],{97400:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return z}});var r=n(30266),a=n(66311),s=n(809),c=n.n(s),o=n(67294),i=n(35312),u=n(30381),l=n.n(u),f=(n(9008),n(85789)),d=n(4914),p=n(11382),h=n(39144),x=n(38162),v=n(71230),m=n(15746),Z=n(89588),b=n(19650),g=n(59510),y=n(52794),w=(n(40942),n(92809)),j=n(38648),S=n(27279),T=n(85545),N=n(72724),k=n(42578),C=n(67287),A=n(84159),E=n(36259),O=n(38412),P=n(85893);var B=f.Z.Title,W=(f.Z.Text,function(e){e.onComplete,e.address;var t=(0,i.u)(),n=(0,A.Z)(),s=(0,a.Z)(n,2),u=(s[0],s[1],(0,C.Z)(["warbotmanufacturer","hasSecurity","hasNanonft"])),f=(0,a.Z)(u,2),d=f[0],p=(f[1],(0,k.Z)(d.warbotmanufacturer)),b=(p.warbotmanufacturer,p.web3),g=p.connected,y=(0,E.Z)(d.nanonft),w=(0,a.Z)(y,1)[0],N=(0,O.Z)(d.nanomachines),W=(0,a.Z)(N,1)[0],F=(0,o.useState)([]),D=(F[0],F[1],(0,o.useState)({})),I=(D[0],D[1],(0,o.useState)(0)),_=(I[0],I[1],(0,o.useState)(!1)),M=(_[0],_[1]),R=(0,o.useState)(!1),H=(R[0],R[1],(0,o.useState)({})),U=(H[0],H[1],(0,o.useState)(0)),L=(U[0],U[1]),Y=(0,o.useState)(0),X=Y[0],z=Y[1],V=(0,o.useState)([]),K=V[0],G=V[1],$=(0,o.useState)([]);$[0],$[1];(0,o.useEffect)((function(){console.log("STATE",g),g&&d.hasNanonft&&(Q(),J())}),[g,d.hasNanonft]);var q=function(){var e=(0,r.Z)(c().mark((function e(){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),n="1000000000000000000000000",console.log(n),e.prev=3,b.utils.toWei(n,"nano").toString(),console.log("APPROVAL AMOUNT",t),e.next=9,W.approve(d.nanonft,"999999999999999999999999999999").send({from:t.account,to:d.welfare});case 9:if(!(r=e.sent).status){e.next=14;break}return j.Z.success({message:"Approve Successful",description:r.transactionHash}),e.next=14,getAllowance();case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),j.Z.error({message:"Approval Failed",description:e.t0.toString()});case 19:M(!1);case 20:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=(0,r.Z)(c().mark((function e(){var n,r,a,s,o,i,u,f,d,p,h,x,v;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),e.next=3,w.totalSupply().call();case 3:n=e.sent,r=(new Date).getTime()/1e3,L(n),[],a=[],s=0;case 9:if(!(s<=n)){e.next=41;break}return e.next=12,w.biddersBids(t.account,s).call();case 12:if(o=e.sent,i=o[0],u=o[1],f=o[2],console.log("right before "+s,i,f),!(parseInt(i)<=0&&1==f)){e.next=19;break}return e.abrupt("continue",38);case 19:return console.log("passed thru "+s,i,f),e.next=22,w.bidExpiration(s).call();case 22:return d=e.sent,e.next=25,w.highestBidder(s).call();case 25:return p=e.sent,e.next=28,w.winnerDeclared(s).call();case 28:return h=e.sent,e.next=31,w.bids(s,u).call();case 31:if(x=e.sent,!(1==h&&x._withdrawn||1==h&&p[0]==t.account||1==h&&0==i)){e.next=34;break}return e.abrupt("continue",38);case 34:d<r?"EXPIRED":"ACTIVE",v="Current Highest Bidder",1==h&&(v=" Winner is "),a.push({winner:v,auction:s,expiration:"EXPIRATION: "+l().unix(d).format("MM/DD/YYYY HH:mm")+" UTC TIME",expirationUTC:d,timeNow:r,buttonText:"Enter Bid for Nano NFT Card # "+s,highestBidder:p[0],highestBid:b.utils.fromWei(p[1].toString()).toString(),yourBid:b.utils.fromWei(i.toString(),"nano").toString(),header:"Auction # "+s});case 38:s++,e.next=9;break;case 41:console.log(a),G(a),M(!1);case 44:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=(0,r.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),console.dir(w),e.next=4,w.balanceOf(t.account).call();case 4:n=e.sent,console.log("USER BALANCE "+n,t.account),z(n),M(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=(0,r.Z)(c().mark((function e(n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),e.prev=1,e.next=4,w.DeclareWinner(n).send({from:t.account,to:d.nanonft});case 4:(r=e.sent).status&&j.Z.success({message:"Winnder Declared",description:r.transactionHash}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),j.Z.error({message:"Declaration Failed"});case 11:M(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=(0,r.Z)(c().mark((function e(n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M(!0),e.prev=1,!(_value>=0)){e.next=7;break}return e.next=5,w.WithdrawBid(n).send({from:t.account,to:d.nanonft});case 5:(r=e.sent).status&&j.Z.success({message:"Withdrawl Successful",description:r.transactionHash});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),j.Z.error({message:"Withdraw Attempt Failed"});case 12:M(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=(0,r.Z)(c().mark((function e(n,r){var a,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M(!0),a=b.utils.toWei(r.toString()).toString(),e.prev=2,!(a>=0)){e.next=8;break}return e.next=6,w.auctionBid(n,a).send({from:t.account,to:d.nanonft});case 6:(s=e.sent).status&&j.Z.success({message:"Bid Successful",description:s.transactionHash});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),j.Z.error({message:"Bid Failed"});case 13:M(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,P.jsxs)("div",{style:{padding:"20px 0px"},children:[(0,P.jsx)(x.Z,{size:"large",onClick:q,children:"Approve"}),(0,P.jsxs)(B,{level:4,children:["You Own ",X," Nano NFT Cards."]}),(0,P.jsx)(B,{level:4,children:"Nano NFT Bidding"}),d.hasNanonft&&K.map((function(e,t){return(0,P.jsx)(S.Z,{children:(0,P.jsx)(S.Z.Panel,{header:K[t].header,children:(0,P.jsx)(v.Z,{gutter:[20,20],style:{marginTop:20},children:(0,P.jsx)(m.Z,{span:24,children:(0,P.jsxs)(h.Z,{children:[(0,P.jsx)(Z.Z,{title:K[t].buttonText,value:K[t].timeNow<K[t].expirationUTC?K[t].expiration:"EXPIRED"}),(0,P.jsx)(x.Z,{size:"large",type:"danger",onClick:function(){return ee(K[t].auction)},children:"Declare Winner"}),(0,P.jsx)(Z.Z,{title:K[t].winner,value:K[t].highestBidder}),(0,P.jsx)(Z.Z,{title:"Current Highest Bid",value:K[t].highestBid}),(0,P.jsx)(Z.Z,{title:"Your Current Bid",value:K[t].yourBid}),(0,P.jsx)(x.Z,{size:"large",type:"danger",onClick:function(){return te(K[t].auction)},children:"Withdraw Bid ( After Winner is Declared )"}),(0,P.jsx)(T.Z.Search,{placeholder:"Enter Bid on NFT Nano Card",enterButton:K[t].buttonText,size:"large",onSearch:function(e){return ne(K[t].auction,e)}})]})})})})})}))]})}),F=(n(49772),n(31692)),D=n.n(F),I=(n(48590),n(94705)),_=(n(62166),n(27172));var M=function(){(0,N.Z)();var e=(0,o.useState)({}),t=(e[0],e[1],(0,C.Z)(["warbotmanufacturer","hasWarbotmanufacturer","warbotstats","hasWarbotstats"])),s=(0,a.Z)(t,2),i=s[0],u=(s[1],(0,_.Z)(i.warbotstats)),l=(0,a.Z)(u,2),f=(l[0],l[1],(0,E.Z)(i.nanonft)),d=(0,a.Z)(f,1)[0],p=(0,k.Z)(i.warbotmanufacturer);p.warbotmanufacturer,p.connected;(0,o.useEffect)((function(){D().setProvider(n.g.window&&window.ethereum)}),[]);var h=function(){var e=(0,r.Z)(c().mark((function e(t,n,r){var a,s,o,u,l,f,d=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=new(D())(I.Mt,i.security),o=d.length,u=new Array(o>3?o-3:0),l=3;l<o;l++)u[l-3]=d[l];return e.next=4,(a=s.methods)[t].apply(a,u).send({from:r,to:n});case 4:(f=e.sent).status&&j.Z.success({message:"Transaction Successful",description:f.transactionHash});case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return[function(){var e=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.NFTNanocards(t).call();case 2:return n=e.sent,console.dir(n),1==n.cardtype&&(r="ATTACK"),2==n.cardtype&&(r="DEFENSE"),3==n.cardtype&&(r="SPEED"),e.abrupt("return",{CardNumber:t,Cardtype:r,Duration:n.duration,Bonus:n.bonus,"Miniumum Level":n.minimumlevel,Range:n.range,Bindable:n.bindable,Rarity:n.rarity});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h]};function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){(0,w.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){o=!0,s=e},f:function(){try{c||null==n.return||n.return()}finally{if(o)throw s}}}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}f.Z.Title,f.Z.Text;var Y=function(e){e.onComplete,e.address;var t=(0,i.u)(),n=M(),s=(0,a.Z)(n,2),u=s[0],l=(s[1],(0,C.Z)(["warbotmanufacturer","hasSecurity","vaultCount"])),f=(0,a.Z)(l,2),d=f[0],b=(f[1],(0,k.Z)(d.warbotmanufacturer)),g=(b.warbotmanufacturer,b.web3,b.connected),y=(0,E.Z)(d.nanonft),w=(0,a.Z)(y,1)[0],T=(0,o.useState)([]),N=T[0],A=T[1],O=(0,o.useState)({}),B=O[0],W=O[1],F=(0,o.useState)(0),D=(F[0],F[1]),I=(0,o.useState)(!1),_=I[0],R=I[1],L=(0,o.useState)(!1),Y=L[0],X=L[1];(0,o.useEffect)((function(){g&&d.hasWarbotmanufacturer&&z(!1)}),[g,d.hasSecurity,d.vaultCount]);var z=function(){var e=(0,r.Z)(c().mark((function e(){var n,r,a,s,o,i,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.next=3,w.getUserNFTS(t.account).call();case 3:n=e.sent,r=n.length,console.dir(n),A(n),a={},s=U(n),e.prev=9,s.s();case 11:if((o=s.n()).done){e.next=19;break}return i=o.value,e.next=15,u(i);case 15:l=e.sent,a[i]=H({},l);case 17:e.next=11;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(9),s.e(e.t0);case 24:return e.prev=24,s.f(),e.finish(24);case 27:W(a),D(r),X(!0),R(!1);case 31:case"end":return e.stop()}}),e,null,[[9,21,24,27]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=(0,r.Z)(c().mark((function e(n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),console.log("ACTIVATE NANO NFT"+n),e.next=4,w.activateNanoNFT(n).send({from:t.account,to:d.nanonft});case 4:(r=e.sent).status&&j.Z.success({message:"Card Activated -  Stats Initated",description:r.transactionHash}),R(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,P.jsx)(p.Z,{spinning:_,children:(0,P.jsxs)(h.Z,{title:"NanoNFT Inventory",extra:(0,P.jsx)(x.Z,{onClick:z,children:"Refresh"}),children:[(0,P.jsxs)(v.Z,{style:{marginBottom:20},children:[(0,P.jsx)(m.Z,{span:12}),(0,P.jsx)(m.Z,{span:12})]}),Y&&N.map((function(e,t){try{if(0==B[e].Level)return null}catch(a){return null}var n="NanoNFT Card Number: "+B[e].CardNumber,r="Card Rarity Level:  "+B[e].Rarity;return(0,P.jsx)("div",{children:(0,P.jsx)(S.Z,{children:(0,P.jsx)(S.Z.Panel,{header:"".concat(n," -").concat(r),children:(0,P.jsxs)(v.Z,{style:{marginTop:10},gutter:[20,20],children:[(0,P.jsxs)(m.Z,{span:24,children:[(0,P.jsx)(x.Z,{type:"primary",onClick:function(){return V(e)},style:{background:"black",borderColor:"yellow"},children:"Activate NFT"}),(0,P.jsx)(x.Z,{type:"primary",style:{background:"green",borderColor:"yellow"},children:"Reroll Stats"})]}),Object.keys(B[e]).map((function(t,n){return(0,P.jsx)(m.Z,{children:(0,P.jsx)(Z.Z,{title:t.toUpperCase(),value:B[e][t],precision:"POOL WEIGHT"==t?9:0,style:{marginBottom:20}})},"".concat(e,"-").concat(t,"-").concat(n))}))]})})})},"vault-".concat(e))}))]})})},X=f.Z.Title;f.Z.Text,d.Z.Item;function z(){var e=(0,i.u)(),t=(0,o.useState)(!1),n=(t[0],t[1],(0,C.Z)(["chain","micromachines","warbotmanufacturer","hasWarbotmanufacturer","warbotmanufacturerInfo"])),s=(0,a.Z)(n,2),u=s[0],l=s[1],f=(0,k.Z)(u.warbotmanufacturer),d=f.warbotmanufacturer,w=(f.web3,f.getField,f.sendTx,f.connected),j=f.getFields,S=(0,o.useState)(!1),T=(S[0],S[1],(0,o.useState)({})),N=(T[0],T[1]),A=(0,o.useState)(!1),E=A[0],B=A[1],F=(0,O.Z)(u.nanomachines),D=((0,a.Z)(F,1)[0],(0,o.useState)(0)),I=D[0],_=D[1],M=(0,o.useState)(0),R=M[0],H=M[1],U=(0,o.useState)(0),L=U[0],z=U[1],V=(0,o.useState)(0),K=V[0],G=V[1],$=(0,o.useState)(0);$[0],$[1];(0,o.useEffect)((function(){u.warbotmanufacturer&&w&&q()}),[u.hasWarbotmanufacturer,w]);var q=function(){var e=(0,r.Z)(c().mark((function e(){var t,n,r,a,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.next=3,d.totalSupply().call();case 3:return t=e.sent,e.next=6,d.ManufacturingPlantCount().call();case 6:return n=e.sent,e.next=9,d.globalwarbotproduction().call();case 9:return r=e.sent,e.next=12,d.manufacturingPeriod().call();case 12:return a=e.sent,e.next=15,j();case 15:s=e.sent,_(t),H(n),z(r),G(a),N(s),l.setSecurityInfo(s),B(!1);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=(0,o.useCallback)((function(){return(0,P.jsx)(p.Z,{spinning:E,children:(0,P.jsx)(h.Z,{title:"Warbot Assets",extra:(0,P.jsx)(x.Z,{type:"primary",onClick:q,children:"Refresh"}),children:(0,P.jsxs)(v.Z,{gutter:[20,20],children:[(0,P.jsx)(m.Z,{span:8,children:(0,P.jsx)(Z.Z,{title:"WarBots in Existence:",value:I})}),(0,P.jsx)(m.Z,{span:8,children:(0,P.jsx)(Z.Z,{title:"Total Manufacturing Plants:",value:R})}),(0,P.jsx)(m.Z,{span:8,children:(0,P.jsx)(Z.Z,{title:"Warbots Manufactured Per Period:",value:L})}),(0,P.jsx)(m.Z,{span:8,children:(0,P.jsx)(Z.Z,{title:"Manufacturing Period in Seconds:",value:K})})]})})})}),[E]);return(0,P.jsx)(y.Z,{children:(0,P.jsxs)("div",{style:{padding:"20px 0px"},children:[(0,P.jsx)(X,{level:2,children:"NFT NANO Management Console"}),u.hasSecurity&&"connected"==e.status&&(0,P.jsxs)("div",{children:[(0,P.jsx)(b.Z,{style:{marginTop:20}}),(0,P.jsxs)(g.Z,{defaultActiveKey:"dashboard",style:{marginTop:20},children:[(0,P.jsx)(g.Z.TabPane,{tab:"Auction  Dashboard",children:(0,P.jsx)(v.Z,{gutter:20,style:{marginTop:"10px",marginBottom:"30px"},children:(0,P.jsxs)(m.Z,{xs:16,children:[(0,P.jsx)(W,{}),(0,P.jsx)(b.Z,{style:{marginTop:20}})]})})},"dashboard"),(0,P.jsx)(g.Z.TabPane,{tab:"Nano NFT Portfolio",children:(0,P.jsx)(Y,{})},"details"),(0,P.jsx)(g.Z.TabPane,{tab:"Nano NFT Auction Statistics",children:J()},"details")]})]})]})})}},44896:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/nanonftcardsauctions",function(){return n(97400)}])}},function(e){e.O(0,[92,885,351,26,579,407,4,144,114,794,575,772,777,942,774,888,179],(function(){return t=44896,e(e.s=t);var t}));var t=e.O();_N_E=t}]);